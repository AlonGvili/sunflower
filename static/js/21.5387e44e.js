(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"./node_modules/raw-loader/dist/cjs.js!./examples/sunflower-antd-form-table/request.js":function(r,t,e){"use strict";e.r(t),t.default='import Mock from "mockjs";\r\n\r\nconst total = 200;\r\n\r\nconst db = Mock.mock({\r\n  [`list|${total}`]: [\r\n    {\r\n      username: "@name",\r\n      email: "@email",\r\n      id: "@guid",\r\n      "gender|1": ["male", "female"] \r\n    }\r\n  ]\r\n});\r\n\r\nfunction filter(list, dataIndex, keyword) {\r\n  if (!keyword) {\r\n    return list;\r\n  }\r\n  return list.filter(\r\n    item =>\r\n      item[dataIndex].toLocaleLowerCase().indexOf(keyword.toLocaleLowerCase()) >\r\n      -1\r\n  );\r\n}\r\n\r\nexport default ({ username, email, filters, sorter, pageSize, current }) => {\r\n  console.log(\'-------\x3e request: username: %s, pageSize: %s, current: %s, filters: %s, sorter: %s\', username, pageSize, current, JSON.stringify(filters), JSON.stringify(sorter));\r\n  const start = pageSize * (current - 1);\r\n  const end = start + pageSize;\r\n  let totalList = db.list;\r\n  totalList = filter(totalList, "username", username);\r\n  totalList = filter(totalList, "email", email);\r\n  if (filters) {\r\n    Object.keys(filters).forEach(key => {\r\n      if (!filters[key]) {\r\n        return true;\r\n      }\r\n      if (filters[key].length === 0) {\r\n        return true;\r\n      }\r\n      totalList = totalList.filter(item => filters[key].includes(item[key]));\r\n    });\r\n  }\r\n  if (sorter && sorter.column) {\r\n    const { dataIndex } = sorter.column;\r\n    if (sorter.order === \'descend\') {\r\n      totalList = [...totalList].sort((a, b) => b[dataIndex].charCodeAt(0) - a[dataIndex].charCodeAt(0));\r\n    } else {\r\n      totalList = [...totalList].sort((a, b) => a[dataIndex].charCodeAt(0) - b[dataIndex].charCodeAt(0));\r\n    }\r\n  }\r\n  const list = totalList.slice(start, end);\r\n  return new Promise(r =>\r\n    setTimeout(() => {\r\n      r({\r\n        list,\r\n        total: totalList.length\r\n      });\r\n    }, 300)\r\n  );\r\n};\r\n'}}]);