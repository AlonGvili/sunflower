(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"./node_modules/_raw-loader@3.1.0@raw-loader/dist/cjs.js!./examples/sunflower-antd-form-table/request.js":function(t,e,n){"use strict";n.r(e),e.default='import Mock from "mockjs";\n\nconst total = 200;\n\nconst db = Mock.mock({\n  [`list|${total}`]: [\n    {\n      username: "@name",\n      email: "@email",\n      id: "@guid",\n      "gender|1": ["male", "female"] \n    }\n  ]\n});\n\nfunction filter(list, dataIndex, keyword) {\n  if (!keyword) {\n    return list;\n  }\n  return list.filter(\n    item =>\n      item[dataIndex].toLocaleLowerCase().indexOf(keyword.toLocaleLowerCase()) >\n      -1\n  );\n}\n\nexport default ({ username, email, filters, sorter, pageSize, current }) => {\n  console.log(\'-------\x3e request: username: %s, pageSize: %s, current: %s, filters: %s, sorter: %s\', username, pageSize, current, JSON.stringify(filters), JSON.stringify(sorter));\n  const start = pageSize * (current - 1);\n  const end = start + pageSize;\n  let totalList = db.list;\n  totalList = filter(totalList, "username", username);\n  totalList = filter(totalList, "email", email);\n  if (filters) {\n    Object.keys(filters).forEach(key => {\n      if (!filters[key]) {\n        return true;\n      }\n      if (filters[key].length === 0) {\n        return true;\n      }\n      totalList = totalList.filter(item => filters[key].includes(item[key]));\n    });\n  }\n  if (sorter && sorter.column) {\n    const { dataIndex } = sorter.column;\n    if (sorter.order === \'descend\') {\n      totalList = [...totalList].sort((a, b) => b[dataIndex].charCodeAt(0) - a[dataIndex].charCodeAt(0));\n    } else {\n      totalList = [...totalList].sort((a, b) => a[dataIndex].charCodeAt(0) - b[dataIndex].charCodeAt(0));\n    }\n  }\n  const list = totalList.slice(start, end);\n  return new Promise(r =>\n    setTimeout(() => {\n      r({\n        list,\n        total: totalList.length\n      });\n    }, 300)\n  );\n};\n'}}]);